# Архітектура програмного забезпечення

## Розрахункова-графічна робота

### **Тема**: Архітектурні діаграми та бенчмарки

### **Мета**: Закріплення навичок ілюстрації організації програмних систем та оцінки часу виконання алгоритмів

---

### Виконали студенти групи ІП-94:
- Беспалий Ілля
- Бондік Кирило
- Головенко Олександр
- Лазаренко Нікіта

---

### Зміст

- [Завдання](#Завдання)
- [2 робота](#2-робота)
- [3 робота](#3-робота)
- [4 робота](#4-робота)

### Завдання

- Для 2-гої роботи, підтвердьте лінійний час виконання вашої функції перетворення чи обчислення вхідного виразу

- Для 3-тої роботи, побудуйте діаграму взаємодії компонентів у вашій імплементації

- Для 4-ої роботи, побудуйте діаграму взаємодії для вашої реалізації (на ній, скоріш за все, мають опинитися компоненти парсера, черги команд, ядра цикла) та підтвердьте лінійний час роботи вашого парсера команд

---

## 2 робота

Варіант №8: Перетворити постфіксний вираз в інфіксний

У даній роботі запускається функція перетворення з даними щоразу більшого розміру, щоб отримати бенчмарк, що демонструє лінійний час виконання.

Наведений код запускає функцію 20 разів, передаючи рядок щоразу більшого розміру.

```go
package lab2

import (
	"fmt"
	"strings"
	"testing"
)

var cntRes string
var err error

func BenchmarkPostfixToInfix(b *testing.B) {
	const baseLen = 1000

	for i := 0; i < 20; i++ {
		l := baseLen * (i + 1)

		input := strings.Repeat("123 22.828 - 54 * ", l)

		b.Run(fmt.Sprintf("len=%d", l), func(b *testing.B) {
			cntRes, err = PostfixToInfix(input)
		})
	}
}
```

---

Після запуску бенчмарка отримуємо такі значення:

![Output1](https://github.com/UniversalCorn/lab4/blob/main/rgr/desc/lab2/output1.jpg)

---

На графіку це виглядатиме так:

![Graph1](https://github.com/UniversalCorn/lab4/blob/main/rgr/desc/lab2/graph1.jpg)

Існують точки у яких помітно, що наступне значення може бути меншим за попереднє, що обумовлено додатковим навантаженням на обчислювальні ресурси, але в цілому графік іде прямолінійно вгору

---

## 3 робота

Варіант №3: Контекст. Інформаційна система для управління віртуальними
машинами та дисками. Система дозволяє ініціалізувати віртуальні
машини та підключати до них довільну кількість дисків для збереження
даних. Кожен з дисків має свій об’єм. Загальний простір доспуний певній
машині визначається як сума об’ємів, що надаються кожним з
підключених дисків.
Сценарії:
1. Переглянути список наявних машин. Приклад відповіді:
[
 {
 “id”: 13,
 “name”: “server-1”,
 “cpuCount”: 4,
 “totalDiskSpace”: 31457280
 }
]
Інформація про кожну машину включає її ім’я, кількість наявних
процесорів та загальний доступний дисковий простір.
2. Підключити диск до машини, вказавши ідентифікатор диска та
мишини. Після виконання даної операції, загальний дисковий простір,
який відображується у полі totalDiskSpace має збільшитися на об’єм
вказаного диска. 

![Graph2](https://github.com/UniversalCorn/lab4/blob/main/rgr/desc/lab3/photo_2021-12-29_18-14-21.jpg)

---

## 4 робота

Варіант №2: Реалізувати інструкції print та add

У даній роботі запускається інструкція Parser з інструкцією print та даними щоразу більшого розміру, щоб отримати бенчмарк, що демонструє лінійний час виконання. Ми будемо збільшувати кількість команд на певний крок (5000) на кожній ітерації. Графік не може бути абсолютно лінійним, але він повинен бути паближено схожий, через те, що паралельно з бенчмарком, працють багато процессів на фоні й це може вплинути на результат, але графік буде наближено лінійним.

Наведений код запускає функцію 20 разів, передаючи строку щоразу більшого розміру.

```go
package lab4

import (
	"fmt"
	"strings"
	"testing"

	engine "github.com/UniversalCorn/lab4/commands"
	parser "github.com/UniversalCorn/lab4/parser"
)

var cmds engine.Command

func BenchmarkParser(b *testing.B) {
	const baseLen = 5000
	for i := 0; i < 20; i++ {
		l := baseLen * (i + 1)

		input := "print " + strings.Repeat("smthsmthtoprintsmthtoprintsmthtoprint", l)

		b.Run(fmt.Sprintf("len=%d", l), func(b *testing.B) {
			cmds = parser.Parse(input)
		})
	}
}
```

Після запуску бенчмарка отримуємо такі значення:

![Output2](https://github.com/UniversalCorn/lab4/blob/main/rgr/desc/lab4/output2.jpg)

---

Графік по точкам: 

![Graph3](https://github.com/UniversalCorn/lab4/blob/main/rgr/desc/lab4/graph2.jpg)

Діаграма показує взаємодію сутностей в нашій системі між собою 

![Graph4](https://github.com/UniversalCorn/lab4/blob/main/rgr/desc/lab4/photo_2021-12-29_18-14-38.jpg)









